<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>
        body{font-family:Arial;margin:2rem;background:#f9f9f9}
        .container{max-width:800px;margin:auto}
        table{width:100%;border-collapse:collapse;margin-bottom:1rem}
        th,td{border:1px solid #ccc;padding:8px;text-align:left}
        th{background:#eee}
        a.button{display:inline-block;padding:6px 12px;margin:4px;background:#28a745;color:#fff;text-decoration:none;border-radius:4px}
        form.inline{display:inline}
    </style>
</head>
<body>
<div class="container">
    <h2>Admin Dashboard</h2>

    <h3>Users</h3>
    <table>
        <tr><th>Username</th><th>Email</th></tr>
        {% for user in users %}
        <tr><td>{{ user.username }}</td><td>{{ user.email }}</td></tr>
        {% endfor %}
    </table>

    <h3>Pending Products</h3>
    <table>
        <tr><th>Name</th><th>Description</th><th>Picture</th><th>Price</th><th>Action</th></tr>
        {% for product in pending %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.picture }}</td>
            <td>₱{{ product.price }}</td>
            <td><a class="button" href="{{ url_for('verify_product', id=product.id) }}">Approve</a></td>
        </tr>
        {% endfor %}
    </table>

    <h3>Approved Products</h3>
    <table>
        <tr><th>Name</th><th>Description</th><th>Picture</th><th>Price</th><th>Action</th></tr>
        {% for product in done %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.picture }}</td>
            <td>₱{{ product.price }}</td>
            <td>
                <a class="button" href="{{ url_for('update_product', id=product.id) }}">Edit</a>
                <a class="button" href="{{ url_for('delete_product', id=product.id) }}" style="background:#dc3545">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>

    <h3>Add Product</h3>
    <form method="POST" action="{{ url_for('add_product') }}">
        Picture name/URL: <input type="text" name="picture" required><br>
        Name: <input type="text" name="name" required><br>
        Description: <input type="text" name="description" required><br>
        Price: <input type="number" step="0.01" name="price" required><br>
        <button type="submit">Add</button>
    </form>

    <p><a href="{{ url_for('admin_logout') }}">Logout</a></p>
</div>
</body>
</html>

